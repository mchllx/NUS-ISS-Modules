<!-- TODO: View 2 -->
<h2>Your search results {{newPokemon.length}} </h2>
<!-- <div *ngIf="newPokemon.length > 0; else noPokemon"> -->

    <div *ngIf="pokemon$ | async as data; else noPokemon" class="mat-elevation-z8">
    <!-- <div *ngFor="let p of data"> -->
        <!-- {{ data | json }} -->

        <mat-table [dataSource]="dataSource">

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef width="20%"> Name </th>
              <td mat-cell *matCellDef="let p"> {{p?.name}} </td>
            </ng-container>

            <ng-container matColumnDef="url">
                <th mat-header-cell *matHeaderCellDef width="20%"> Url </th>
                <td mat-cell *matCellDef="let p"> {{p?.url}} </td>
            </ng-container>

            <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef width="20%"> Image </th>
            <td mat-cell *matCellDef="let p">
                <img [src]="p?.image" width="100"></td>
            </ng-container>
          
            <ng-container matColumnDef="abilities">
              <th mat-header-cell *matHeaderCellDef width="20%"> Abilities </th>
              <td mat-cell *matCellDef="let p"> {{p?.abilities}} </td>
            </ng-container>

            <ng-container matColumnDef="view">
                <th mat-header-cell *matHeaderCellDef width="20%"> Actions </th>
                <td mat-cell (click)="onClick(p?.id)" *matCellDef="let p">
                    <button mat-raised-button color="primary">View Details</button>
                </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            
        </mat-table>
        <mat-paginator
            #paginator
            [length]="newPokemon.length"
            [pageSize]="pageSize"
            [pageSizeOptions]="[5, 10, 25, 100]"
            showFirstLastButtons
            aria-label="Select page">
        </mat-paginator>
        <button mat-raised-button color="secondary" (click)="back()">Back</button>
    </div>

<ng-template #noPokemon>
    <h2>No pokemon found</h2>
</ng-template>

<!-- Doesn't work with async -->
<!-- <mat-paginator
#paginator
[length]="newPokemon.length"
[pageSize]="pageSize"
[pageSizeOptions]="[5, 10, 25, 100]"
[pageIndex]="pageIndex"
(page)="handlePage($event)"
showFirstLastButtons
aria-label="Select page">
</mat-paginator> -->

